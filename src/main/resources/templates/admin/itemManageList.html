<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <th:block th:replace="~{/layout/header::headFrag('HolidayDeco')}"></th:block>
  <script th:src="@{/js/lib/jquery-3.6.4.min.js}"></script>
  <link rel="stylesheet" th:href="@{/css/font.css}">
  <link rel="stylesheet" th:href="@{/css/footer.css}">
</head>
<script>

   $(function(){

      var itemNo = $('.itemNo');
      
      $('.frm_delete').on('submit', function(event){
         if(confirm('삭제할까요?') == false){
            event.preventDefault();
            return;
         }
      })
      
   })

</script>
<style>
img {
  width: 300px;
  height: 200px;
  margin-right: 40px;
  margin-bottom: 20px;
  border-radius: 10px;
 }

.pagination {
  margin-top:50px;
  margin-bottom:50px; 
  text-align: center; 
}

.search {
   text-align: center;
}

.search-bar_input { 
  appearance: none;
  border-width: 0 0 1px; 
  margin-top: 20px;
  margin-bottom: 20px;
}

</style>
<body>
<div th:replace="~{/layout/header::gnbFrag}"></div>
<div class="all" >
      <div class="search" style="display:flex;"  >
         <div class="searchbar">
            <form id="frm" th:action="@{/admin/itemManageList.do}">
            <input class="search-bar_input" type="text" th:id="query" th:name="query">
               <button class="btn">
                  <i class="fa-solid fa-magnifying-glass"></i>
               </button>
            </form>
         </div>
      </div>
      <div class="btn1">
         <a th:href="@{/admin/uploadItem.html}">상품 등록하기</a>
      </div>
        <table style="margin: 0 auto;">
            <th:block th:each="item,vs:${itemList}">
               <tbody class="item">
                  <tr>
                     <td rowspan="4" ><img th:src="@{/admin/display.do(itemNo=${item.itemNo})}"></td>
                     <td th:text="${item.itemTitle}"></td>
                     <td>
                        <form class="frm_delete" method="post" th:action="@{/admin/itemDelete.do}">
                           <input type="hidden" th:name="itemNo" th:value="${item.itemNo}">
                           <button>삭제</button>
                        </form>
                     </td>
                  </tr>
                  <tr>
                     <td th:text="|가격 : *{item.itemPrice}|"></td>
                     <td th:text="|재고 *{item.itemStock}|"></td>
                  </tr>
               </tbody>
            </th:block>
               <tfoot>
                  <tr>
                     <td class="pagination" colspan="10" th:utext="${pagination}">
                  </tr>
               </tfoot>
         </table>
      </div>
</body>
<div th:replace="~{/layout/footer::footerFrag}"></div>
</html>